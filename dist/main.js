(()=>{"use strict";const e=document.querySelectorAll(".slider__img"),t=document.querySelectorAll(".slider__dot");let o=0;function s(){e.forEach((e=>{e.style.display="none"})),o++,o>e.length&&(o=1),t.forEach((e=>{e.className=e.className.replace(" active-dot","")})),e[o-1].style.display="block",t[o-1].className+=" active-dot",setTimeout(s,5e3)}const a=document.querySelector(".categories__list"),c=document.querySelectorAll(".categories__list-item");const i=document.querySelector(".book-cards");function n(e){fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${e}"&key=AIzaSyCQbSqaHFYuQo8gpB5hi-3wu4jOa22C_MY&printType=books&startIndex=0&maxResults=6&orderBy=newest&langRestrict=en`).then((e=>e.json())).then((e=>{!function(e){let t="";console.log(e),e.items.forEach((e=>{const o=`\n        <div class="book-cards__card">\n            <img src="${e.volumeInfo.imageLinks.thumbnail}" class="book-cards__img"/>\n            <div class="book-cards__text">\n                <p class="book-cards__author">${e.volumeInfo.authors?e.volumeInfo.authors:"author not specified"}</p>\n                <p class="book-cards__title">${e.volumeInfo.title}</p>\n                <p class="book-cards__description">${e.volumeInfo.description}</p>\n                <p class="book-cards__price">${e.saleInfo.retailPrice?e.saleInfo.retailPrice.amount+" "+e.saleInfo.retailPrice.currencyCode:"Not for sale"}</p>\n                <button class="${e.saleInfo.retailPrice?"book-cards__btn":"disabled-btn"}">buy now</button>\n            </div>\n        </div>`;t+=o})),i.innerHTML=t}(e)})).catch((e=>e))}window.addEventListener("DOMContentLoaded",(()=>{s(),t.forEach(((o,s)=>{o.addEventListener("click",(o=>{t.forEach((e=>{e.classList.contains("active-dot")&&e.classList.remove("active-dot")})),o.target.classList.add("active-dot"),e.forEach((e=>{e.style.display="none"})),e[s].style.display="block"}))})),c[0].classList.add("active-category"),a.addEventListener("click",(e=>{e.target.classList.contains("categories__list-item")&&(c.forEach((e=>{e.classList.contains("active-category")&&e.classList.remove("active-category")})),e.target.classList.add("active-category"))})),n(c[0].outerText),a.addEventListener("click",(e=>{n(e.target.outerText)}))}))})();