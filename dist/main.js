(()=>{"use strict";const e=document.querySelectorAll(".slider__img"),t=document.querySelectorAll(".slider__dot");let s=0;function o(){e.forEach((e=>{e.style.display="none"})),s++,s>e.length&&(s=1),t.forEach((e=>{e.className=e.className.replace(" active-dot","")})),e[s-1].style.display="block",t[s-1].className+=" active-dot",setTimeout(o,5e3)}const a=document.querySelector(".categories__list"),c=document.querySelectorAll(".categories__list-item");const n=document.querySelector(".book-cards");function i(e){let t="";console.log(e),e.items.forEach((e=>{const s=`\n        <div class="book-cards__card">\n            <img src="${e.volumeInfo.imageLinks.thumbnail?e.volumeInfo.imageLinks.thumbnail:"/src/img/cards-img/imagePlaceholder.png"}" class="book-cards__img"/>\n            <div class="book-cards__text">\n                <p class="book-cards__author">${e.volumeInfo.authors?e.volumeInfo.authors:"author not specified"}</p>\n                <p class="book-cards__title">${e.volumeInfo.title}</p>\n                <div class="rating">\n                    <div class="rating__body">\n                        <div class="rating__active" style="width: ${e.volumeInfo.averageRating/.05}%"></div>  \n                        <p class="rating__review">${e.volumeInfo.ratingsCount?e.volumeInfo.ratingsCount:0} review</p>    \n                    </div>\n                </div>\n                <p class="book-cards__description">${e.volumeInfo.description}</p>\n                <p class="book-cards__price">${e.saleInfo.retailPrice?e.saleInfo.retailPrice.amount+" "+e.saleInfo.retailPrice.currencyCode:"Not for sale"}</p>\n                <button class="${e.saleInfo.retailPrice?"book-cards__btn":"disabled-btn"}">buy now</button>\n            </div>\n        </div>`;t+=s})),n.innerHTML=t,function(){const e=document.querySelectorAll(".book-cards__btn"),t=document.querySelector(".cart-counter");e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.replace("book-cards__btn","in-cart-btn"),e.innerText="in the cart",t.classList.contains("cart-counter-visible")||t.classList.add("cart-counter-visible"),++t.innerText}))}))}()}function r(e){fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${e}"&key=AIzaSyCQbSqaHFYuQo8gpB5hi-3wu4jOa22C_MY&printType=books&startIndex=0&maxResults=6&orderBy=newest&langRestrict=en`).then((e=>e.json())).then((e=>{i(e)})).catch((e=>e))}window.addEventListener("DOMContentLoaded",(()=>{o(),t.forEach(((s,o)=>{s.addEventListener("click",(s=>{t.forEach((e=>{e.classList.contains("active-dot")&&e.classList.remove("active-dot")})),s.target.classList.add("active-dot"),e.forEach((e=>{e.style.display="none"})),e[o].style.display="block"}))})),c[0].classList.add("active-category"),a.addEventListener("click",(e=>{e.target.classList.contains("categories__list-item")&&(c.forEach((e=>{e.classList.contains("active-category")&&e.classList.remove("active-category")})),e.target.classList.add("active-category"))})),r(c[0].outerText),a.addEventListener("click",(e=>{r(e.target.outerText)}))}))})();